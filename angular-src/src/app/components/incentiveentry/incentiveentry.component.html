<div class="card">
    <div class="card-body">
        <div class="row ml-0">
            <div class="col-md-12">
                <div class="row">
                    <h1 class="incentive-header">Incentive Entry | </h1>
                    <span>
                        <!-- <p class="company">{{ companyName }} - {{ partnerCode}} <i class="pl-3 fas fa-search" (click)="openInstallCompanyListModal(installCompanyListContent)"></i></p> -->
                        <p class="pl-2 marginTop-12 text-error company">{{ companyName }} - {{ partnerCode}}</p>
                    </span>
                    <i class="pl-3 fas fa-search text-error search" (click)="openInstallCompanyListModal(installCompanyListContent)"></i>
                    <ng-template #installCompanyListContent let-modal>
                        <div class="modal-header">
                            <button class="close" aria-label="close" (click)="modal.dismiss('Cross click')">
                                <span aria-label="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row ml-0">
                                        <div class="col-md-12">
                                            <div class="row">
                                                <div class="col-md-6 pl-0">
                                                    <h1 class="install-company-list-header">Please choose a partner
                                                    </h1>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group form-inline">
                                        Search by typing a Company Name:
                                        <input 
                                            type="text" 
                                            class="form-control ml-2" 
                                            name="searchTerm" 
                                            [(ngModel)]="searchTerm" 
                                            (input)="search($event.target.value)"
                                        >
                                    </div>
                                    
                                    <div class="table-responsive">
                                        <table class="table align-items-center table-borderless">
                                            <thead>
                                                <th scope="col">Company Name</th>
                                                <th scope="col">Partner Code</th>
                                                <th scope="col"></th>
                                                
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let item of installCompanyList2 | listFilter: searchTerm | slice: (page-1) * pageSize: page * pageSize; index as i">
                                                    
                                                    <td data-id="{{item.installCompanyID}}" (click)="onClickNewDefaultSelection(item.installCompanyID,item.companyName,item.partnerCode)">{{ item.companyName }}</td>
                                                    <td>{{ item.partnerCode }}</td>
                                                   
                                                </tr>
                                            </tbody>
                                        </table>
                                        <ngb-pagination 
                                            [collectionSize]="collectionSize" 
                                            [(page)]="page" 
                                            [maxSize]="5" 
                                            [boundaryLinks]="true"
                                            [pageSize]="pageSize" 
                                            class="d-flex justify-content-center mt-5">
                                        </ngb-pagination>
                                        
                                    </div>
                    
                                    
                                </div>
                            </div>
                        </div>
                    </ng-template>
                    
                </div>
            </div>
        </div>

        <form [formGroup]="incentiveEntryForm">
            <div class="row form-inline mt-5 mb-5">
                <div class="col-md-3">
                    <div class="form-group">
                        <label class="mr-2">Invoice #</label>
                        <input 
                            type="text" 
                            class="form-control"
                            formControlName="InvoiceNumber">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label class="mr-2">Invoice Date</label>
                        <input
                            type="date" 
                            class="form-control"
                            formControlName="InvoiceDate"
                        >
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label class="mr-2">Invoice Total</label>
                        <kendo-numerictextbox
                            format="c2"
                            [value]="value"
                            placeholder="$0.00"
                            formControlName="InvoiceTotal"
                            [spinners]="false"
                        ></kendo-numerictextbox>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label class="col-sm-8">Was service performed as part of this incentive?</label>
                        Yes
                        <input 
                            type="radio" 
                            class="mr-2 ml-2" 
                            formControlName="ServiceIncluded"
                            name="ServiceIncluded"
                            (change)="onChangeServiceIncluded($event)"
                            value="y"
                        >
                        No
                        <input 
                            type="radio" 
                            class="mr-2 ml-2" 
                            formControlName="ServiceIncluded"
                            name="ServiceIncluded"
                            (change)="onChangeServiceIncluded($event)"
                            value="n"
                        >
                    </div>
                </div>
            </div>

            <ng-container>
                <div class="">
                    <div class="flexp" >
                        <div class="form-group flexc" *ngFor="let box of checkBoxIndex; let i=index">
                            <div *ngIf="box.id&gt;0 && box.id&lt;=2">
                                <label [ngStyle]="{'min-width': '200px'}">{{box.checkBoxName}}</label>
                                <input 
                                    type="checkbox" 
                                    name="{{box.id}}" 
                                    [value]="box.id"
                                    (change)="onChangeClientVisit($event)"
                                    class="form-check-populate"
                                    [checked]="selected === i"
                                    (change)="selected = i"
                                    [style.margin-bottom]="'0px'"
                                >
                            </div>
                            <div *ngIf="box.id&gt;2 && box.id&lt;=6">
                                <label [ngStyle]="{'min-width': '200px'}">{{box.checkBoxName}}</label>
                                <input 
                                    type="checkbox" 
                                    name="{{box.id}}" 
                                    [value]="box.id"
                                    (change)="onChangeClientVisit($event)"
                                    class="form-check-populate"
                                >
                            </div>
                            <div *ngIf="box.id&gt;6 && box.id&lt;11">
                                <label [ngStyle]="{'min-width': '200px'}">{{box.checkBoxName}}</label>
                                <input 
                                    type="checkbox" 
                                    name="{{box.id}}" 
                                    [value]="box.id"
                                    (change)="onChangeClientVisit($event)"
                                    class="form-check-populate"
                                    [disabled]="box.id&gt;7"
                                >
                            </div>
                            <div *ngIf="box.id&gt;10 ">
                                <label [ngStyle]="{'min-width': '200px'}">{{box.checkBoxName}}</label>
                                <input 
                                    type="checkbox"
                                    class="form-check-input"
                                    [value]="box.id"
                                    name="{{box.id}}"
                                    (change)="onChangeClientVisit($event)"
                                    [checked]="selected1 === i"
                                    (change)="selected1 = i"
                                >
                            </div>
                        </div>          
                    </div>
                </div> 
            </ng-container>
            
            <div class="row mt-1 mb-4">
                <div class="col-md-4"></div>
                <div class="col-md-4 offset-md-4">
                    <button type="submit" class="btn btn-secondary btn-block" (click)="onSubmit(incentiveEntryForm)" [disabled]="!incentiveEntryForm.valid"><i class="fas fa-plus pr-2"></i>Start Incentive</button>
                </div>
            </div>
        </form>
    </div>
</div>
<footer class="footer">
    <div class="ml-5 mr-5">
      <div class="row pb-3 pt-5">
        <div class="col-md-3">
          <h2 class="font-weight-bolder footer-logo">The Partnership Connection</h2>
        </div>
        <div class="col-md-1">
          <p class="font-weight-bold footer-logo mb-0 mt-25">powered by </p>
        </div>
        <div class="col-md-8">
          <img src="../../../assets/img/AlarmConnections_Logo_Primary(With_Tag)_RGB.svg" id="afa-brand-logo">
        </div>
      </div>
    </div>
  </footer>
