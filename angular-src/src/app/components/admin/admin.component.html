<div class="pr-5 pl-5 row">
  <div class="col-xl-12">
      <div class="card bg-secondary shadow">
          <!-- <div class="card-header bg-white border-0">
              <div class="row align-items-center">
                  <div class="col-md-12">
                      <h3>Admin/SuperAdmin Dashboard</h3>
                  </div>
              </div>
          </div> -->
          <div class="card-body">
              <div class="row">
                <div class="col card m-2 p-2">
                  <h3>Admin/SuperAdmin Dashboard</h3>
                </div>
                <div class="col card m-2 p-2">
                  <h3>Only an admin or super admin can access this dashboard.</h3>
                </div>
                <div class="col card m-2 p-2">
                  <h3>Click <i class="fa fa-key pl-1"></i> Edit User Password to update a password.</h3>
                  <h3>Click <i class="fas fa-user pl-1"></i> Edit User Password to update a user.</h3>
                  <h3>Click <i class="fa fa-lock pl-1"></i> Edit User Permissions to update user permissions.</h3>
                </div>
                <!-- <div class="col-md-12">
                    <ul class="list-group">
                        <li class="list-group-item pl-0">Only an admin or super admin can access this dashboard.</li>
                        <li class="list-group-item pl-0">Click the Edit User Password button to update a password</li>
                    </ul>
                </div> -->
              </div>
              
              <!-- <div class="row">
                <div class="form-inline float-left pl-3 mr-auto">
                  <label>Search by typing a Username:</label>
                  <input 
                    type="text" 
                    class="form-control ml-2"
                    [(ngModel)]="searchTerm"
                    placeholder="John Doe">
                </div>
              </div> -->
            <div class="row">
                <div class="col-md-12 pl-0">
                  
                  <form [formGroup]="adminUserSearchForm">
                    <!-- <div class="form-inline float-left pl-3 mr-auto">
                      <label>Search by typing a Username:</label>
                      <input 
                        type="text" 
                        class="form-control ml-2"
                        [(ngModel)]="searchTerm"
                        placeholder="John Doe">
                    </div> -->
                    <div class="form-group">
                      <div class="form-inline float-left pl-3 mr-auto">
                        <label>Search by typing a Username:</label>
                        <input 
                          type="text" 
                          class="form-control ml-2"
                          [(ngModel)]="searchTerm"
                          formControlName="SearchTerm"
                          placeholder="John Doe"
                        >
                      </div>
                      <div class="d-flex bd-highlight mb-2 float-right">
                        <!-- <div class="form-inline float-left pl-3 mr-auto">
                          <label>Search by typing a Username:</label>
                          <input 
                            type="text" 
                            class="form-control ml-2"
                            [(ngModel)]="searchTerm"
                            placeholder="John Doe">
                        </div> -->
                        <div class="p-2 bd-highlight pr-4">
                          <button class="btn btn-primary" (click)="exportToExcel()">Export to Excel</button>
                        </div>
                        <!-- <div> -->
                          <!-- <div class="p-2 bd-highlight">
                            <button class="btn btn-primary">Export and Print Excel</button>
                          </div> -->
                          <!-- <div class="bd-highlight mt-4">
                            <button class="btn btn-primary" (click)="clearSearch()">Clear</button>
                          </div> -->
                        <!-- </div>
                        <div class="col-md-4 offset-md-4 mt-4">
                          <div class="p-2 bd-highlight">
                            <button class="btn btn-primary" (click)="exportToExcel()">Export to Excel</button>
                          </div>
                        </div> -->
                      </div>
                    </div>
                  </form> 
                    
                  <div class="table-responsive">
                    <table class="table">
                        <thead>
                          <tr>
                            <th scope="col">Username</th>
                            <th scope="col">First Name</th>
                            <th scope="col">Last Name</th>
                            <th scope="col"></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let item of allUsers | filterAdmin:searchTerm | paginate: { itemsPerPage: 10, currentPage: p }">
                            <!-- <th scope="row">{{item.id}}</th> -->
                            <td class="pb-0 pt-26">{{ item.userName }}</td>
                            <td class="pb-0 pt-26">{{ item.firstName }}</td>
                            <td class="pb-0 pt-26">{{ item.lastName }}</td>
                            <td class="float-right">
                              <button 
                                class="btn btn-primary" 
                                (click)="editCurrentUserPassword(item.id)">
                                <i class="fa fa-key pr-2"></i>Edit User Password
                              </button>
                              <button 
                                class="btn btn-primary" 
                                (click)="editCurrentUser(item.id)">
                                <i class="fas fa-user pr-2"></i>Edit User
                              </button>
                              <button 
                                class="btn btn-primary" 
                                (click)="editCurrentUserPermissions($event,item.id, item.userName)">
                                <i class="fa fa-lock pr-2"></i>Edit User Permissions
                              </button>
                              <button class="btn btn-error" (click)="deleteCurrentUserModal($event,item.id)">
                                <i class="fa fa-trash pr-2"></i>Delete User
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="mt-3">
                        <pagination-controls (pageChange)="p = $event" class="text-center"></pagination-controls>
                      </div>
                      <!-- <pagination-controls (pageChange)="p = $event" class="text-center"></pagination-controls> -->
                      <!-- <ngb-pagination
                          [collectionSize]="allUsers?.length"
                          [(page)]="page" 
                          [maxSize]="5" 
                          [rotate]="true" 
                          [ellipses]="false" 
                          [boundaryLinks]="true"
                          class="d-flex justify-content-center mt-5">
                      </ngb-pagination> -->

                      <!-- <div class="d-flex justify-content-center">
                        <pagination-controls  
                          previousLabel="Prev" 
                          nextLabel="Next" 
                          (pageChange)="onTableDataChange($event)">
                        </pagination-controls>
                      </div> -->
                  </div>
                </div>
            </div>
          </div>
      </div>
  </div>
</div>

<!--Settings Modal-->


<!--begin Edit User Permission Modal -->
<div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog" id="maxWidth-1160">
    <div class="modal-content">
        <div class="modal-header pb-0 pl-2">
            <div class="col-md-12 mb-2">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
            </div>
        </div>
        <div class="modal-body pt-0">
            <div class="card p-3">
                <div class="card-body">
                  <div class="row">
                    <div class="col mb-3 instructions">
                      <h2 class="subtitle-2">Instructions</h2>
                      <p class="body-2">Toggle Left to Hide</p>
                      <p class="body-2">Toggle Right to Show</p>
                    </div>
                  </div>
                    <div class="row">
                        <div class="col-md-12">    
                          <form>                        
                            <div class="form-group card">
                              <div class="row p-1">
                                <div class="col">
                                  <p class="d-inline">Access for 3G Conversion Card</p>
                                </div>
                                <div class="col">
                                  <label class="switch float-right mb-0">
                                    <input 
                                      type="checkbox" 
                                      (change)="onChangeAccessFor3GConv($event)"
                                      value="1" 
                                      [(ngModel)]="selected1"
                                      [ngModelOptions]="{standalone: true}">
                                    <span class="slider round"></span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <div class="form-group card">
                              <div class="row p-1">
                                <div class="col">
                                  <p class="d-inline">Access for Pending Cancellations Card</p>
                                </div>
                                <div class="col">
                                  <label class="switch float-right mb-0">
                                    <input 
                                      type="checkbox" 
                                      (change)="onChangeAccessForPendingCancel($event)"
                                      value="2"
                                      [(ngModel)]="selected2"
                                      [ngModelOptions]="{standalone: true}">
                                    <span class="slider round"></span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <div class="form-group card">
                              <div class="row p-1">
                                <div class="col">
                                  <p class="d-inline">Access to Aging Card</p>
                                </div>
                                <div class="col">
                                  <label class="switch float-right mb-0">
                                    <input 
                                      type="checkbox" 
                                      (change)="onChangeAccessToAgingCard($event)"
                                      value="3"
                                      [(ngModel)]="selected3"
                                      [ngModelOptions]="{standalone: true}">
                                    <span class="slider round"></span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <div class="form-group card">
                              <div class="row p-1">
                                <div class="col">
                                  <p class="d-inline">Access to the Aging Call to Action Report</p>
                                </div>
                                <div class="col">
                                  <label class="switch float-right mb-0">
                                    <input 
                                      type="checkbox" 
                                      (change)="onChangeAccessToAgingCallToAction($event)"
                                      value="4"
                                      [(ngModel)]="selected4"
                                      [ngModelOptions]="{standalone: true}">
                                    <span class="slider round"></span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <div class="form-group card">
                              <div class="row p-1">
                                <div class="col">
                                  <p class="d-inline">Access to the Invoices & Incentives Card</p>
                                </div>
                                <div class="col">
                                  <label class="switch float-right mb-0">
                                    <input 
                                      type="checkbox" 
                                      (change)="onChangeAccessToInvIncentive($event)"
                                      value="5"
                                      [(ngModel)]="selected5"
                                      [ngModelOptions]="{standalone: true}">
                                    <span class="slider round"></span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <div class="form-group card">
                              <div class="row p-1">
                                <div class="col">
                                  <p class="d-inline">Access to the Service Card</p>
                                </div>
                                <div class="col">
                                  <label class="switch float-right mb-0">
                                    <input 
                                      type="checkbox" 
                                      (change)="onChangeAccessToServiceCard($event)"
                                      value="6"
                                      [(ngModel)]="selected6"
                                      [ngModelOptions]="{standalone: true}">
                                    <span class="slider round"></span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <div class="form-group card">
                              <div class="row p-1">
                                <div class="col">
                                  <p class="d-inline">Access to the Sales Card</p>
                                </div>
                                <div class="col">
                                  <label class="switch float-right mb-0">
                                    <input 
                                      type="checkbox" 
                                      (change)="onChangeAccessToSalesCard($event)"
                                      value="7"
                                      [(ngModel)]="selected7"
                                      [ngModelOptions]="{standalone: true}">
                                    <span class="slider round"></span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <div class="form-group card">
                              <div class="row p-1">
                                <div class="col">
                                  <p class="d-inline">Access to the Attrition Card</p>
                                </div>
                                <div class="col">
                                  <label class="switch float-right mb-0">
                                    <input 
                                      type="checkbox" 
                                      (change)="onChangeAccessToAttritionCard($event)"
                                      value="8"
                                      [(ngModel)]="selected8"
                                      [ngModelOptions]="{standalone: true}">
                                    <span class="slider round"></span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <div class="form-group card">
                              <div class="row p-1">
                                <div class="col">
                                  <p class="d-inline">Able to Export 3G List to Excel</p>
                                </div>
                                <div class="col">
                                  <label class="switch float-right mb-0">
                                    <input 
                                      type="checkbox" 
                                      (change)="onChangeAbleToExport3G($event)"
                                      value="9"
                                      [(ngModel)]="selected9"
                                      [ngModelOptions]="{standalone: true}">
                                    <span class="slider round"></span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <div class="form-group card">
                              <div class="row p-1">
                                <div class="col">
                                  <p class="d-inline">Able to Create an Invoice</p>
                                </div>
                                <div class="col">
                                  <label class="switch float-right mb-0">
                                    <input 
                                      type="checkbox" 
                                      (change)="onChangeAbleToCreateInvoice($event)"
                                      value="10"
                                      [(ngModel)]="selected10"
                                      [ngModelOptions]="{standalone: true}">
                                    <span class="slider round"></span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <!-- <div class="form-group card">
                              <div class="row p-1">
                                <div class="col">
                                  <p class="d-inline">Show Instructions</p>
                                </div>
                                <div class="col">
                                  <label class="switch float-right mb-0">
                                    <input 
                                      type="checkbox"
                                      (change)="onChangeShowInstructions($event)"
                                      value="0"
                                      [(ngModel)]="removeSplash"
                                      [ngModelOptions]="{standalone: true}">
                                    <span class="slider round"></span>
                                  </label>
                                </div>
                              </div>
                            </div> -->
                          </form>
                        </div>
                        <div class="col">
                            <button type="submit" class="btn btn-block btn-secondary" (click)="onSaveSettings()"><i class="fas fa-plus pr-2"></i>Save</button>
                        </div>                      
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
        </div>
    </div>
</div>
</div>
<!--end Edit User Permission Modal-->

<!--Delete User Modal-->
<div class="modal fade" id="deleteUserModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog" id="maxWidth-1160">
    <div class="modal-content">
        <div class="modal-header pb-0 pl-2">
            <div class="col-md-12 mb-2">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
            </div>
        </div>
        <div class="modal-body pt-0">
            <div class="card p-3">
                <div class="card-body">
                  <div class="row">
                    <div class="col">
                      <h5 class="headline-5 text-error">Delete user</h5>
                            <p class="body-2 high-emphasis">Once you delete this user, there is no going back. Please be certain</p>
                    </div>
                  </div>
                  <div class="row">
                      <div class="col-md-12">
                        <form class="mt-2" [formGroup]="deleteCurrentUserForm">
                          <div class="form-group card">
                            <div class="row p-1">
                              <div class="col">
                                <p class="d-inline">Delete This User</p>
                              </div>
                              <div class="col">
                                <label class="switch float-right mb-0">
                                  <input 
                                    type="checkbox" 
                                    value="id"
                                    formControlName="deleteCurrentUser"
                                    >
                                  <span class="slider round"></span>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div class="col">
                              <button 
                                type="submit" 
                                class="btn btn-error" 
                                (click)="onSaveDeleteUser(id);clicked = true;"
                                [disabled]="clicked"
                                ><i class="fa fa-trash pr-2"></i>Delete this user</button>
                          </div>
                        </form>
                      </div>                      
                  </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
        </div>
    </div>
</div>
</div>