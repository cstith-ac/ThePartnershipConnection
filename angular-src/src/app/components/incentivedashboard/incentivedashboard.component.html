<div class="card">
    <div class="card-body">
        <div class="row ml-0">
            <div class="col-md-12">
                <div class="row">
                    <h1 class="incentive-header">Incentive Entry | 
                        <span class="company">{{ companyName }} - {{ partnerCode }}</span>
                    </h1>
                </div>
            </div>
        </div>
        <form [formGroup]="incentiveDashboardForm" (ngSubmit)="onSubmit(incentiveDashboardForm)">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-5">
                        <!--CUSTOMER-->
                        <div class="form-group form-inline">
                            <label class="col-sm-2 col-form-label">Customer</label>
                            <!-- <input 
                                type="text"
                                class="form-control col-sm-5 fullWidthInput" 
                                [(ngModel)]="customer" 
                                formControlName="CustomerID"
                            > -->
                            <!-- <input 
                                #filter
                                type="text"
                                class="form-control col-sm-5 fullWidthInput" 
                                [(ngModel)]="customer" 
                                formControlName="CustomerID"
                                (change)="onChangeCustomerNumber($event)"
                                placeholder="Type a customer number..."
                            > -->
                            <!-- <ng-template let-results>
                                {{results.customerName}}
                            </ng-template> -->
                            <!-- <ul class="customer-list">
                                <li class="customer-select-list" *ngFor="let result of results">
                                    <p class="customer-name">
                                        {{ result.customerName }} - {{ result.customerNumber }}
                                    </p>
                                </li>
                            </ul> -->
                            <!-- <kendo-autocomplete
                                [(data)]="results"
                                formControlName="CustomerID"
                                [placeholder]="'Type a customer number...'"
                                [suggest]="true" 
                                [(ngModel)]="customer"
                                [filterable]="true"
                                class="form-control col-sm-5 fullWidthInput"
                                (change)="onChangeCustomerNumber($event)"
                                textField="customerName"
                                [valueField]="customerName"
                            >
                                <ng-template kendoAutoCompleteItemTemplate let-results>{{results.customerName}}</ng-template>
                            </kendo-autocomplete> -->
                            <div class="ng-autocomplete">
                                <ng-autocomplete
                                    #customerRef
                                    [data]="results"
                                    formControlName="CustomerID"
                                    [(ngbTooltip)]="customer"
                                    [searchKeyword]="keyword"
                                    (selected)='selectEvent($event)'
                                    (inputChanged)='getServerResponse($event)' 
                                    (inputFocused)='onFocused($event)' 
                                    (inputCleared)="searchCleared()"
                                    [itemTemplate]="itemTemplate"
                                    historyIdentifier="results"
                                    [notFoundTemplate]="notFoundTemplate"
                                    [placeholder]="'Type a customer number...'"
                                >
                                </ng-autocomplete>

                                <ng-template #itemTemplate let-item>
                                    <a [innerHTML]="item.customerName"></a>
                                    <a [innerHTML]="item.customerNumber"></a>
                                </ng-template>

                                <ng-template #notFoundTemplate let-notFound>
                                    <div [innerHTML]="notFound"></div>
                                </ng-template>
                            </div>
                        
                            <span class="ml-2" (click)="openSearchCustomerModal(content)">
                                <i class="fas fa-search"></i>
                            </span>
                            <span class="pl-4" (click)="routeToNewCustomer()">
                                <i class="fas fa-plus-circle"></i>
                                New Customer
                            </span>
                        </div>
                        
                        <!--SITE-->
                        <div class="form-group form-inline">
                            <label class="col-sm-2 col-form-label">Site</label>
                            <div *ngIf="isSiteSelectionFirst">
                                <input 
                                    type="text" 
                                    class="form-control col-sm-12 fullWidthInput" 
                                    [(ngModel)]="siteName" 
                                    formControlName="CustomerSiteID"
                                >
                            </div>
                            <div *ngIf="isRemoveDropdown">
                                <div class="dropdown">
                                    <select 
                                        #siteRef
                                        [(ngbTooltip)]="customerSiteName"
                                        formControlName="CustomerSiteID" 
                                        class="form-control col-sm-12 fullWidthSelect" 
                                        [(ngModel)]="siteName"
                                        (change)="onChangeSite($event)" 
                                    >
                                        <option 
                                            *ngFor="let site of listsitesforcustomer" 
                                            value="{{ site.customer_Site_id }}" 
                                            
                                        >
                                            {{ site.siteName }} - {{ site.address_1 }}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <span class="ml-2" #siteSearchIcon (click)="openSearchSiteModal(site)">
                                <i class="fas fa-search"></i>
                            </span>
                            <span class="pl-4" (click)="routeToNewSite()">
                                <i class="fas fa-plus-circle"></i>
                                New Site
                            </span>
                        </div>
                        
                        <!--SYSTEM-->
                        <div class="form-group form-inline">
                            <label class="col-sm-2 col-form-label">System</label>

                            <div *ngIf="isSystemSelectionFirst">
                                <input 
                                    type="text" 
                                    class="form-control col-sm-12 fullWidthInput" 
                                    [(ngModel)]="systemCode" 
                                    formControlName="CustomerSystemID"
                                >
                            </div>
                            <div *ngIf="isRemoveSystemDropdown">
                                <div class="dropdown">
                                    <select 
                                        #systemRef
                                        formControlName="CustomerSystemID" 
                                        class="form-control col-sm-12 fullWidthSelect"
                                        [(ngModel)]="selectedValue"
                                        (change)="onChangeSystem($event)"
                                    >
                                        <option 
                                            *ngFor="let system of listSystemsForSite" 
                                            value="{{ system.customer_System_id }}" 
                                        >
                                            {{ system.systemType }} - {{  system.alarmAccount }}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <span class="ml-2" #systemSearchIcon (click)="openSearchSystemModal(system)">
                                <i class="fas fa-search"></i>
                            </span>
                            <input type="checkbox" class="form-control form-check-input ml-3" [(ngModel)]="newSystem" formControlName="NewSystem">
                            <label class="col-sm-2 col-form-label form-check-label">This is a new system</label>
                        </div>

                        <div class="form-group form-inline">
                            <p class="text-danger">Verify System Information!</p>
                        </div>
                        <div class="form-group form-inline">
                            <label class="col-sm-2 col-form-label">Account #</label>
                            <input type="text" class="form-control col-sm-5" [(ngModel)]="alarmAccount" formControlName="AlarmAccount">
                        </div>
                        <div class="form-group form-inline">
                            <label class="col-sm-2 col-form-label">System Type</label>
                            <div class="dropdown">
                                <select 
                                    formControlName="SystemTypeID" class="form-control col-sm-12 fullWidthSelect" 
                                    [(ngModel)]="systemTypeID"
                                >
                                    <option *ngFor="let list of listsystemtypes" value="{{ list.system_Id }}" [ngValue]="list.system_Id">
                                        {{ list.systemName }}
                                    </option>
                                </select>
                            </div>
                            <span class="col-sm-4">
                                <small>If <b>Other</b> is selected, please describe in Comments Section</small>
                            </span>
                        </div>
                        <div class="form-group form-inline">
                            <label class="col-sm-2 col-form-label">Panel Type</label>
                            <div class="dropdown">
                                <select 
                                    formControlName="PanelTypeID" class="form-control col-sm-12 fullWidthSelect" 
                                    [(ngModel)]="panelTypeID"
                                >
                                    <option *ngFor="let list of listpaneltypes" value="{{ list.panel_Type_Id }}" [ngValue]="list.panel_Type_Id">
                                        {{ list.panelName }}
                                    </option>
                                </select>
                            </div>
                            <span class="col-sm-4">
                                <small>If <b>Other</b> is selected, please describe in Comments Section</small>
                            </span>
                        </div>
                        <div class="form-group form-inline">
                            <label class="col-sm-2 col-form-label">Panel Location</label>
                            <input type="text" class="form-control col-sm-5" [(ngModel)]="panelLocation" formControlName="PanelLocation">
                        </div>
                        <div class="form-group form-inline">
                            <label class="col-sm-2 col-form-label">Central Station</label>
                            <div class="dropdown">
                                <select 
                                    formControlName="CentralStationID" class="form-control col-sm-12 fullWidthSelect" 
                                    [(ngModel)]="centralStationID"
                                >
                                    <option *ngFor="let station of listcentralstations" value="{{ station.centralStationID }}" [ngValue]="station.centralStationID">
                                        {{ station.csName }}
                                    </option>
                                </select>
                            </div>
                            <span class="col-sm-4">
                                <small>If <b>Other</b> is selected, please describe in Comments Section</small>
                            </span>
                        </div>
                        <div class="form-group form-inline">
                            <label class="col-sm-2 col-form-label">Additional Info</label>
                            <input type="text" class="form-control col-sm-10" [(ngModel)]="additionalInfo" formControlName="AdditionalInfo" (keyup)="getAdditionalInfo($event)">
                        </div>
                    </div>
                    <div class="col-md-7">
                        <div class="row">
                            <div class="col-md-12">
                                <h3>
                                    Upload Documents - (An invoice submission is required)
                                </h3>
                            </div>
                        </div>
                        <div class="row form-inline mb-3">
                            <div class="col-md-6">
                                <div class="form-group" *ngIf="!showInvoiceFile">
                                    <label class="col-sm-4 col-form-label pl-0">Invoice</label>
                                    <i class="fas fa-upload pr-3"></i>
                                    <input 
                                        type="file" 
                                        class="form-control col-sm-6" 
                                        [(ngModel)]="invoiceUpload" 
                                        formControlName="InvoiceUpload"
                                        (change)="getFileDetails($event)"
                                    >
                                </div>
                                <div class="form-group" *ngIf="showInvoiceFile">
                                    <label class="col-sm-4 col-form-label pl-0">Uploaded File</label>
                                    <p class="mb-0 ml-4 uploaded-file" #invoice>{{file_name}}</p>
                                    <i class="pl-3 far fa-trash-alt text-danger" (click)="removeInvoiceFile()"></i>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-group" *ngIf="!showSubscriberFormFile">
                                    <label class="col-sm-5 col-form-label">Subscriber Form</label>
                                    <i class="fas fa-upload pr-3"></i>
                                    <input 
                                        type="file" 
                                        class="form-control col-sm-6" 
                                        [(ngModel)]="subscriberFormUpload" formControlName="SubscriberFormUpload"
                                        (change)="getSubscriberFileDetails($event)"
                                    >
                                </div>
                                <div class="form-group" *ngIf="showSubscriberFormFile">
                                    <label class="col-sm-4 col-form-label pl-0">Uploaded File</label>
                                    <p class="mb-0 ml-4 uploaded-file" #subscriberForm>{{subscriber_file_name}}</p>
                                    <i class="pl-3 far fa-trash-alt text-danger" (click)="removeSubscriberFormFile()"></i>
                                </div>
                            </div>
                        </div>
                        <div class="row form-inline mb-3">
                            <div class="col-md-6">
                                <div class="form-group" *ngIf="!showSiteVisitFile">
                                    <label class="col-sm-4 col-form-label pl-0">Site Visit</label>
                                    <i class="fas fa-upload pr-3"></i>
                                    <input 
                                        type="file" 
                                        class="form-control col-sm-6" 
                                        [(ngModel)]="siteVisitUpload" formControlName="SiteVisitUpload"
                                        (change)="getSiteVisitFileDetails($event)"
                                    >
                                </div>
                                <div class="form-group" *ngIf="showSiteVisitFile">
                                    <label class="col-sm-4 col-form-label pl-0">Uploaded File</label>
                                    <p class="mb-0 ml-4 uploaded-file" #siteVisit>{{site_visit_file_name}}</p>
                                    <i class="pl-3 far fa-trash-alt text-danger" (click)="removeSiteVisitFile()"></i>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group" *ngIf="!showOtherDocument1File">
                                    <label class="col-sm-5 col-form-label">Other Document</label>
                                    <i class="fas fa-upload pr-3"></i>
                                    <input 
                                        type="file" 
                                        class="form-control col-sm-6" 
                                        [(ngModel)]="otherDocument1Upload" formControlName="OtherDocument1Upload"
                                        (change)="getOtherDocument1FileDetails($event)"
                                    >
                                </div>
                                <div class="form-group" *ngIf="showOtherDocument1File">
                                    <label class="col-sm-4 col-form-label pl-0">Uploaded File</label>
                                    <p class="mb-0 ml-4 uploaded-file" #otherDocument1>{{other_Document1_file_name}}</p>
                                    <i class="pl-3 far fa-trash-alt text-danger" (click)="removeOtherDocument1File()"></i>
                                </div>
                            </div>
                        </div>
                        <div class="row form-inline mb-3">
                            <div class="col-md-6">
                                <div class="form-group" *ngIf="!showContractFile">
                                    <label class="col-sm-4 col-form-label pl-0">Contract</label>
                                    <i class="fas fa-upload pr-3"></i>
                                    <input 
                                        type="file" 
                                        class="form-control col-sm-6" 
                                        [(ngModel)]="contractUpload" formControlName="ContractUpload"
                                        (change)="getContractFileDetails($event)"
                                    >
                                </div>
                                <div class="form-group" *ngIf="showContractFile">
                                    <label class="col-sm-4 col-form-label pl-0">Uploaded File</label>
                                    <!-- <p class="mb-0 ml-4 uploaded-file" #contract>{{contractUpload}}</p> -->
                                    <p class="mb-0 ml-4 uploaded-file" #contract>{{contract_file_name}}</p>
                                    <i class="pl-3 far fa-trash-alt text-danger" (click)="removeContractFile()"></i>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group" *ngIf="!showOtherDocument2File">
                                    <label class="col-sm-5 col-form-label">Other Document</label>
                                    <i class="fas fa-upload pr-3"></i>
                                    <input 
                                        type="file" 
                                        class="form-control col-sm-6" 
                                        [(ngModel)]="otherDocument2Upload" formControlName="OtherDocument2Upload"
                                        (change)="getOtherDocument2FileDetails($event)"
                                    > 
                                </div>
                                <div class="form-group" *ngIf="showOtherDocument2File">
                                    <label class="col-sm-4 col-form-label pl-0">Uploaded File</label>
                                    <p class="mb-0 ml-4 uploaded-file" #otherDocument2>{{other_Document2_file_name}}</p>
                                    <i class="pl-3 far fa-trash-alt text-danger" (click)="removeOtherDocument2File()"></i>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h3>
                                    Incentive Information
                                </h3>
                            </div>
                        </div>
                        <div class="row form-inline mb-4">
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="col-sm-7 col-form-label pl-0">Invoice #</label>
                                    <div class="input-group d-flex justify-content-center">
                                        <input 
                                            type="text" class="form-control col-sm-10" 
                                            [(ngModel)]="invoiceNumber" formControlName="PartnerInvoiceNumber">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="col-sm-7 col-form-label pl-0">Invoice Date</label>
                                    <div class="input-group d-flex justify-content-center">
                                        <input 
                                            type="date" class="form-control col-sm-12" 
                                            [(ngModel)]="invoiceDate" formControlName="PartnerInvoiceDate">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="col-sm-3 col-form-label">Total</label>
                                    <div class="input-group d-flex justify-content-center">
                                        <kendo-numerictextbox
                                            format="c2"
                                            [value]="invoiceTotal"
                                            [spinners]="false"
                                            placeholder="$0.00"
                                        ></kendo-numerictextbox>
                                        <!-- <input
                                            placeholder="$0.00"
                                            mask="separator.2" 
                                            thousandSeparator=","
                                            prefix="$"
                                            type="text" 
                                            class="form-control col-sm-8" 
                                            [(ngModel)]="invoiceTotal"
                                            formControlName="InvoiceTotal"> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="col-sm-3 col-form-label">Tax</label>
                                    <div class="input-group d-flex justify-content-center">
                                        <kendo-numerictextbox
                                            format="c2"
                                            [value]="partnerTaxAmount"
                                            [spinners]="false"
                                            placeholder="$0.00"
                                            formControlName="PartnerTaxAmount"
                                        ></kendo-numerictextbox>
                                        <!-- <input
                                            type="text" 
                                            [value]="tax"
                                            class="form-control col-sm-10"
                                            formControlName="Tax"
                                            [(ngModel)]="tax"
                                            placeholder="$0.00"
                                            mask="separator.2" 
                                            thousandSeparator=","
                                            prefix="$"
                                            (keyup)="getTax($event)"
                                        > -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group form-inline">
                                    <!-- <label class="col-form-label pl-0 col-sm-6">Recurring (Enter Line Items)<i class="fas fa-plus-circle pl-3" (click)="routeToRecurring()"></i></label> -->
                                    <label class="col-form-label pl-0 col-sm-6">Recurring (Enter Line Items)<i class="fas fa-plus-circle pl-3" (click)="openRecurringModal(recurring)"></i></label>
                                    <div class="input-group col-sm-5 ml-auto">
                                        <!-- <div class="input-group-prepend">
                                            <span class="input-group-text">$</span>
                                        </div> -->
                                        <kendo-numerictextbox
                                            format="c2"
                                            [value]="totalSumRecurring"
                                            formControlName="Recurring"
                                            [spinners]="false"
                                            placeholder="$0.00"
                                        ></kendo-numerictextbox>
                                        <!-- <input 
                                            type="text" 
                                            class="form-control col-sm-6" 
                                            formControlName="Recurring"
                                            placeholder="$0.00"
                                            [(ngModel)]="totalRecurringCalc"
                                        > -->
                                    </div>
                                </div>
                                <div class="form-group form-inline">
                                    <!-- <div class="col-sm-4">
                                        <label class="col-form-label pl-0 col-sm-9">Equipment &amp; Materials</label>
                                    </div>
                                    <div class="col-sm-4 pl-0 pr-0">
                                        <span>(Enter Line Items)</span>
                                        <i class="fas fa-plus-circle pl-3" (click)="routeToEquipMaterials()"></i>
                                    </div>
                                    <div class="col-sm-4">
                                        <input 
                                            type="text" 
                                            class="form-control col-sm-6" 
                                            formControlName="EquipmentAndMaterials"
                                            placeholder="$0.00"
                                        >
                                    </div> -->
                                    <!-- <label class="col-form-label pl-0 col-sm-6">Equipment &amp; Materials (Enter Line Items)<i class="fas fa-plus-circle pl-3" (click)="routeToEquipMaterials()"></i></label> -->
                                    <label class="col-form-label pl-0 col-sm-6">Equipment &amp; Materials (Enter Line Items)<i class="fas fa-plus-circle pl-3" (click)="openEquipMaterialsModal(equipmat)"></i></label>
                                    <div class="input-group col-sm-5 ml-auto">
                                        <!-- <input 
                                            type="text" 
                                            class="form-control col-sm-6" 
                                            formControlName="EquipmentAndMaterials"
                                            placeholder="$0.00"
                                            [(ngModel)]="totalEquipMatCalc"
                                        > -->
                                        <kendo-numerictextbox
                                            format="c2"
                                            [value]="totalSumEquipMat"
                                            formControlName="EquipmentAndMaterials"
                                            [spinners]="false"
                                            placeholder="$0.00"
                                        ></kendo-numerictextbox>
                                    </div>
                                </div>
                                <div class="form-group form-inline">
                                    <!-- <label class="col-form-label pl-0 col-sm-6">Labor Charges (Enter Line Items)<i class="fas fa-plus-circle pl-3" (click)="routeToLaborCharges()"></i></label> -->
                                    <label class="col-form-label pl-0 col-sm-6">Labor Charges (Enter Line Items)<i class="fas fa-plus-circle pl-3" (click)="openLaborChargesModal(laborcharges)"></i></label>
                                    <div class="input-group col-sm-5 ml-auto">
                                        <!-- <div class="input-group-prepend">
                                            <span class="input-group-text">$</span>
                                        </div> -->
                                        <!-- <input 
                                            type="text" 
                                            class="form-control col-sm-6"  
                                            formControlName="LaborCharges"
                                            placeholder="$0.00"
                                            [(ngModel)]="totalLaborChargesCalc"
                                        > -->
                                        <kendo-numerictextbox
                                            format="c2"
                                            [value]="totalSumLaborCharges"
                                            formControlName="LaborCharges"
                                            [spinners]="false"
                                            placeholder="$0.00"
                                        ></kendo-numerictextbox>
                                    </div>
                                </div>
                                <div class="form-group form-inline">
                                    <label class="col-sm-6 col-form-label pl-0 display-contents">Line Item Subtotal</label>
                                    <div class="input-group col-sm-5 ml-auto">
                                        <kendo-numerictextbox
                                            format="c2"
                                            [value]="lineItemSubtotal"
                                            formControlName="LineItemSubtotal"
                                            [spinners]="false"
                                            placeholder="$0.00"
                                        ></kendo-numerictextbox>
                                        <!-- <input 
                                            type="text" 
                                            class="form-control col-sm-6" 
                                            formControlName="LineItemSubtotal"
                                            placeholder="$0.00"
                                            [attr.disabled]="true"
                                        > -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="shadow">
                                    <div class="ml-2 mt-2">
                                        <h3>Contract Terms</h3>
                                    </div>
                                    <div class="form-group form-inline">
                                        <label class="col-sm-3 col-form-label">Start Date</label>
                                        <input 
                                            type="date" 
                                            class="form-control col-sm-5" 
                                            [(ngModel)]="startDate" formControlName="ContractDate"
                                            (change)="getContractDate($event)"    
                                        >
                                    </div>
                                    <div class="form-group form-inline">
                                        <label class="col-sm-2 col-form-label">Term</label>
                                        <input 
                                            type="number" 
                                            min="0"
                                            class="form-control col-sm-2 mr-3"
                                            [(ngModel)]="contractTerm" formControlName="ContractTerm"
                                            (change)="getContractTerm($event)"
                                        >Mo
    
                                        <label class="col-sm-3 col-form-label">Renewal</label>
                                        <input 
                                            type="number"
                                            min="0"
                                            class="form-control col-sm-2 mr-3"
                                            [(ngModel)]="renewal" formControlName="RenewalMonths"
                                            (change)="getRenewal($event)"
                                        >Mo
                                    </div>
                                </div>
                                <!-- <div class="form-group form-inline">
                                    <label class="col-sm-3 col-form-label">Start Date</label>
                                    <input 
                                        type="date" 
                                        class="form-control col-sm-5" 
                                        [(ngModel)]="startDate" formControlName="ContractDate"
                                        (change)="getContractDate($event)"    
                                    >
                                </div>
                                <div class="form-group form-inline">
                                    <label class="col-sm-2 col-form-label">Term</label>
                                    <input 
                                        type="number" 
                                        class="form-control col-sm-2 mr-3"
                                        [(ngModel)]="contractTerm" formControlName="ContractTerm"
                                        (keyup)="getContractTerm($event)"
                                    >Mo

                                    <label class="col-sm-3 col-form-label">Renewal</label>
                                    <input 
                                        type="number"
                                        class="form-control col-sm-2 mr-3"
                                        [(ngModel)]="renewal" formControlName="RenewalMonths"
                                        (keyup)="getRenewal($event)"
                                    >Mo
                                </div> -->
                                <div class="shadow">
                                    <div class="form-group form-inline form-check mb-0">
                                        <label class="col-sm-5 col-form-label text-danger font-weight-bold form-check-label">Signals Tested!</label>
                                        <input 
                                            type="checkbox" class="form-control form-check-input" 
                                            [value]="false"
                                            [(ngModel)]="signalsTested" formControlName="SignalsTested"
                                            (change)="onSignalsTested($event)"
                                        >
                                    </div>
                                    <div class="form-group form-inline mb-0">
                                        <label class="col-sm-10 col-form-label">
                                            <small>I certify that all signals to and from the Central Station have been tested and the alarm system passed all of those tests.</small>
                                        </label>
                                    </div>
                                </div>
                                <!-- <div class="form-group form-inline form-check">
                                    <label class="col-sm-5 col-form-label text-danger font-weight-bold form-check-label">Signals Tested!</label>
                                    <input type="checkbox" class="form-control form-check-input" [(ngModel)]="signalsTested" formControlName="SignalsTested">
                                </div>
                                <div class="form-group form-inline">
                                    <label class="col-sm-10 col-form-label">
                                        <small>I certify that all signals to and from the Central Station have been tested and the alarm system passed all of those tests.</small>
                                    </label>
                                </div> -->
                                <div class="col-md-12 offset-md-0">
                                    <!-- <div class="row d-flex justify-content-between">
                                      <button class="btn btn-success">Add/View Comments</button>
                                      <button class="btn btn-primary btn-light-blue">Submit Incentive</button>
                                    </div> -->
                                    <button type="reset" class="btn btn-danger" (click)="reset()">Reset</button>
                                    <button type="button" class="btn btn-success btn-light-green" (click)="openAddViewCommentsModal(comments)">Add/View Comments</button>
                                    <!-- <button type="button" class="btn btn-primary btn-light-blue" (click)="onSubmit(incentiveDashboardForm)">Submit Incentive</button> -->
                                    <button type="button" class="btn btn-primary btn-light-blue" (click)="onSubmit(incentiveDashboardForm)" [disabled]="!incentiveDashboardForm.valid">Submit Incentive</button>
                                  </div>
                            </div>
                        </div>
                    </div> 
                </div>
            </div>
        </form>
    </div>
</div>

<footer class="footer">
    <div class="ml-5 mr-5">
        <div class="row pb-3">
            <div class="col-md-3">
                <h2 class="font-weight-bolder footer-logo">The Partnership Connection</h2>
            </div>
            <div class="col-md-1">
                <p class="font-weight-bold footer-logo mb-0 mt-25">powered by </p>
            </div>
            <div class="col-md-8">
                <img src="../../../assets/img/AlarmConnections_Logo_Primary(With_Tag)_RGB.svg" id="afa-brand-logo">
            </div>
        </div>
    </div>
</footer>

<ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Search By Customer</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-4">
                <div class="col-sm-12">
                    <h2>Look up a customer</h2>
                </div>
                <div class="col-sm-12 input-group">
                    <input 
                        type="text" 
                        class="form-control" 
                        [(ngModel)]="searchValue"
                        placeholder="Start searching for a customer by Customer Name"
                    >
                    <div class="input-group-append">
                        <span class="input-group-text"><i class="fa fa-search" aria-hidden="true"></i></span>
                      </div>
                    <!-- <span class="fa fa-search"></span> -->
                    <!-- <span class="input-group-append">
                        <button class="btn btn-outline-secondary border-left-0" id="search-border" type="button">
                            <i class="fa fa-search" aria-hidden="true"></i>
                        </button>
                    </span> -->
                </div>
                <!-- <div class="col-sm-8">
                    <input type="text" class="form-control" [(ngModel)]="searchValue">
                </div> -->
            </div>
            <div class="col-md-4">
                <h2>Search By:</h2>
                <form>
                    <div class="form-group">
                        <input 
                            [(ngModel)]="searchByCustomer"
                            [checked]="true"
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToCustomer($event.target.value)"
                        >
                        <label>Customer</label>
                    </div>
                    <div class="form-group">
                        <input
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToBilling($event.target.value)"
                        >
                        <label>Billing Address</label>
                    </div>
                    <div class="form-group">
                        <input 
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToSite($event.target.value)"
                        >
                        <label>Site Address</label>
                    </div>
                    <div class="form-group">
                        <input 
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToCentralStation($event.target.value)"
                        >
                        <label>Central Station #</label>
                    </div>
                </form>
            </div>
            <div class="col-md-4">
                <h2>Options:</h2>
                <form>
                    <div class="row">
                        <h3>Cancelled Customers</h3>
                        <div class="radio-label-vertical-wrapper">
                            <div class="form-group">
                            <label class="radio-label-vertical">
                                <input 
                                    type="radio" 
                                    name="cancelledCustomers" 
                                    [value]="0" 
                                    required
                                    (change)="onItemChangeToInclude($event.target.value)"
                                >Include</label>
                            <label class="radio-label-vertical">
                                <input 
                                    type="radio" 
                                    name="cancelledCustomers" 
                                    [value]="1" 
                                    required
                                    [checked]="true"
                                    (change)="onItemChangeToExclude($event.target.value)"
                                >Exclude</label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <table class="table table-responsive">
            <thead>
                <tr>
                    <th scope="col">Customer Number</th>
                    <th scope="col">Customer Name</th>
                    <th scope="col">Customer Status</th>
                    <th scope="col">Address Line 1</th>
                    <th scope="col">Address Line 2</th>
                    <th scope="col">Address Line 3</th>
                    <th scope="col">City</th>
                    <th scope="col">State</th>
                    <th scope="col">Zip Code</th>
                    <!-- <th scope="col"></th> -->
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let customer of customerSearchList | filter:searchValue | paginate: { itemsPerPage: 10, currentPage: p }" (click)="selectCustomer(customer.customer_id,customer.customer_Name,customer.customer_Number)" click>
                    <td>{{ customer.customer_Number }}</td>
                    <td>{{ customer.customer_Name }}</td>
                    <td>{{ customer.customerStatus }}</td>
                    <td>{{ customer.address_1 }}</td>
                    <td>{{ customer.address_2 }}</td>
                    <td>{{ customer.address_3 }}</td>
                    <td>{{ customer.city }}</td>
                    <td>{{ customer.state }}</td>
                    <td>{{ customer.zipCode }}</td>
                    <!-- <td>
                        <button 
                            class="btn btn-primary" 
                            (click)="selectCustomer(customer.customer_id,customer.customer_Name)"
                        >
                            Select
                        </button>
                    </td> -->
                </tr>
            </tbody>
        </table>
        <pagination-controls (pageChange)="p = $event" class="text-center"></pagination-controls>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
    </div>
</ng-template>

<ng-template #site let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Search By Site</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-4">
                <div class="col-sm-12">
                    <h2>Look up a site</h2>
                </div>
                <div class="col-sm-12 input-group">
                    <input 
                        type="text" 
                        class="form-control" 
                        [(ngModel)]="searchValue"
                    >
                    <span class="input-group-append">
                        <button class="btn btn-outline-secondary border-left-0" id="search-border" type="button">
                            <i class="fa fa-search" aria-hidden="true"></i>
                        </button>
                    </span>
                </div>
            </div>
            <div class="col-md-4">
                <h2>Search By:</h2>
                <form>
                    <div class="form-group">
                        <input 
                            [(ngModel)]="searchByCustomer"
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToCustomer($event.target.value)"
                        >
                        <label>Customer</label>
                    </div>
                    <div class="form-group">
                        <input
                            [checked]="true"
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToBilling($event.target.value)"
                        >
                        <label>Billing Address</label>
                    </div>
                    <div class="form-group">
                        <input
                            [checked]="true" 
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToSite($event.target.value)"
                        >
                        <label>Site Address</label>
                    </div>
                    <div class="form-group">
                        <input 
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToCentralStation($event.target.value)"
                        >
                        <label>Central Station #</label>
                    </div>
                </form>
            </div>
            <div class="col-md-4">
                <h2>Options:</h2>
                <form>
                    <div class="row">
                        <h3>Cancelled Customers</h3>
                        <div class="radio-label-vertical-wrapper">
                            <div class="form-group">
                            <label class="radio-label-vertical">
                                <input 
                                    type="radio" 
                                    name="cancelledCustomers" 
                                    [value]="0" 
                                    required
                                    (change)="onItemChangeToInclude($event.target.value)"
                                >Include</label>
                            <label class="radio-label-vertical">
                                <input 
                                    type="radio" 
                                    name="cancelledCustomers" 
                                    [value]="1" 
                                    required
                                    [checked]="true"
                                    (change)="onItemChangeToExclude($event.target.value)"
                                >Exclude</label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <table class="table table-responsive">
            <thead>
                <tr>
                    <th scope="col">Customer Number</th>
                    <th scope="col">Customer Name</th>
                    <th scope="col">Customer Status</th>
                    <th scope="col">Address Line 1</th>
                    <th scope="col">Address Line 2</th>
                    <th scope="col">Address Line 3</th>
                    <th scope="col">City</th>
                    <th scope="col">State</th>
                    <th scope="col">Zip Code</th>
                    <th scope="col">Site Number</th>
                    <th scope="col">Site Name</th>
                    <th scope="col">Site Status</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let site of customerSearchListSite | filterSite:searchValue | paginate: { itemsPerPage: 10, currentPage: p }" (click)="selectSite(site.customer_id,site.customer_Name, site.siteName, site.customer_Site_Id,site.customer_Number)" click>
                    <td>{{ site.customer_Number }}</td>
                    <td>{{ site.customer_Name }}</td>
                    <td>{{ site.customerStatus }}</td>
                    <td>{{ site.address_1 }}</td>
                    <td>{{ site.address_2 }}</td>
                    <td>{{ site.address_3 }}</td>
                    <td>{{ site.city }}</td>
                    <td>{{ site.state }}</td>
                    <td>{{ site.zipCode }}</td>
                    <td>{{ site.site_Number }}</td>
                    <td>{{ site.siteName }}</td>
                    <td>{{ site.siteStatus }}</td>
                </tr>
            </tbody>
        </table>
        <pagination-controls (pageChange)="p = $event" class="text-center"></pagination-controls>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
    </div>
</ng-template>

<ng-template #system let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Search By System/Central Station</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-4">
                <div class="col-sm-12">
                    <h2>Look up a system/Central Station</h2>
                </div>
                <div class="col-sm-12 input-group">
                    <input 
                        type="text" 
                        class="form-control" 
                        [(ngModel)]="searchValue"
                    >
                    <span class="input-group-append">
                        <button class="btn btn-outline-secondary border-left-0" id="search-border" type="button">
                            <i class="fa fa-search" aria-hidden="true"></i>
                        </button>
                    </span>
                </div>
            </div>
            <div class="col-md-4">
                <h2>Search By:</h2>
                <form>
                    <div class="form-group">
                        <input 
                            [(ngModel)]="searchByCustomer"
                            [checked]="true"
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToCustomer($event.target.value)"
                        >
                        <label>Customer</label>
                    </div>
                    <div class="form-group">
                        <input
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToBilling($event.target.value)"
                        >
                        <label>Billing Address</label>
                    </div>
                    <div class="form-group">
                        <input 
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToSite($event.target.value)"
                        >
                        <label>Site Address</label>
                    </div>
                    <div class="form-group">
                        <input 
                            type="radio" 
                            name="searchBy" 
                            class="mr-3"
                            (change)="onItemChangeToCentralStation($event.target.value)"
                        >
                        <label>Central Station #</label>
                    </div>
                </form>
            </div>
            <div class="col-md-4">
                <h2>Options:</h2>
                <form>
                    <div class="row">
                        <h3>Cancelled Customers</h3>
                        <div class="radio-label-vertical-wrapper">
                            <div class="form-group">
                            <label class="radio-label-vertical">
                                <input 
                                    type="radio" 
                                    name="cancelledCustomers" 
                                    [value]="0" 
                                    required
                                    (change)="onItemChangeToInclude($event.target.value)"
                                >Include</label>
                            <label class="radio-label-vertical">
                                <input 
                                    type="radio" 
                                    name="cancelledCustomers" 
                                    [value]="1" 
                                    required
                                    [checked]="true"
                                    (change)="onItemChangeToExclude($event.target.value)"
                                >Exclude</label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <table class="table table-responsive">
            <thead>
                <tr>
                    <th scope="col">Alarm Account</th>
                    <th scope="col">System Status</th>
                    <th scope="col">System Code</th>
                    <th scope="col">Customer Number</th>
                    <th scope="col">Customer Name</th>
                    <th scope="col">Customer Status</th>
                    <th scope="col">Address Line 1</th>
                    <th scope="col">Address Line 2</th>
                    <th scope="col">Address Line 3</th>
                    <th scope="col">City</th>
                    <th scope="col">State</th>
                    <th scope="col">Zip Code</th>
                    <th scope="col">Site Number</th>
                    <th scope="col">Site Name</th>
                    <th scope="col">Site Status</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let station of customerSearchListCentralStation | filterCentralStation:searchValue | paginate: { itemsPerPage: 10, currentPage: p }" (click)="selectCentralStation(station.customer_id, station.customer_Site_Id, station.customer_System_Id, station.alarmAccount, station.system_Code, station.customer_Name, station.customer_Number)" click>
                    <td>{{ station.alarmAccount }}</td>
                    <td>{{ station.systemStatus }}</td>
                    <td>{{ station.system_Code }}</td>
                    <td>{{ station.customer_Number }}</td>
                    <td>{{ station.customer_Name }}</td>
                    <td>{{ station.customerStatus }}</td>
                    <td>{{ station.address_1 }}</td>
                    <td>{{ station.address_2 }}</td>
                    <td>{{ station.address_3 }}</td>
                    <td>{{ station.city }}</td>
                    <td>{{ station.state }}</td>
                    <td>{{ station.zipCode }}</td>
                    <td>{{ station.site_Number }}</td>
                    <td>{{ station.siteName }}</td>
                    <td>{{ station.siteStatus }}</td>
                </tr>
            </tbody>
        </table>
        <pagination-controls (pageChange)="p = $event" class="text-center"></pagination-controls>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
    </div>
</ng-template>

<ng-template #comments let-modal>
    <div class="modal-header">
      <!-- <h4 class="modal-title" id="modal-basic-title">Search By System/Central Station</h4> -->
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <!-- <div class="col-md-4">
                <div class="col-sm-12">
                    <h2>This space is provided for details, additional information and clarifications for your incentive. All information provided will be available to the incentive processing team!</h2>
                </div>
                
            </div> -->
            <div class="col-md-12">
                <form [formGroup]="incentiveDashboardForm">
                    <div class="form-group">
                        <label class="d-block text-center">
                            <div class="col-sm-7 m-auto">
                                <i class="text-center">This space is provided for details, additional information and clarifications for your incentive. All information provided will be available to the incentive processing team!</i>
                            </div>
                        </label>
                        <textarea 
                            class="form-control" 
                            rows="12" formControlName="PartnerComments"
                            [(ngModel)]="partnerComments"
                        ></textarea>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
    </div>
</ng-template>

<ng-template #recurring let-modal>
    <div class="modal-header">
        <!-- <h4 class="modal-title">Title</h4> -->
        <button class="close" aria-label="close" (click)="modal.dismiss('Cross click')">
            <span aria-label="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body">
                <div class="row ml-0">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-6 pl-0">
                                <h1 class="incentive-header">Incentive Entry
                                </h1>
                            </div>
                            <div class="col-md-6">
                                <span class="mr-5 font-weight-bold">Invoice #:  <span class="text-danger">{{ invoiceNumber }}</span>
                                </span>
                                <span class="ml-5 font-weight-bold">Customer Name: <span class="text-danger">{{ customer }}</span></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 offset-md-6">
                                <span class="font-weight-bold">Customer Site Information: <span class="text-danger">{{ customerSiteName }}</span></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 offset-md-6">
                                <span class="font-weight-bold">Customer System Information: <span class="text-danger">{{ systemName }}</span></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 pl-0">
                                <h3 class="incentive-header">Recurring Item Entry</h3>
                            </div>
                        </div>
                    </div>
                </div>

                <section>
                    <header class="recurring-header-bg">
                        <div class="col">
                            <span class="align-middle">Service Provided</span>
                        </div>
                        <div class="col">
                          <span class="align-middle">Description</span>  
                        </div>
                        <div class="col">
                          <span class="align-middle">Bill Cycle</span>
                        </div>
                        <div class="col">
                          <span class="align-middle">RMR</span>
                        </div>
                        <div class="col">
                          <span class="align-middle">Pass Through</span>
                        </div>
                        <div class="col">
                          <span class="align-middle">Billing Starts</span>
                        </div>
                        <div class="col text-center">
                          <span class="align-middle">Add to an Existing RMR Item</span>
                        </div>
                        <div class="col text-center">
                          <span class="align-middle">Multiple</span>
                        </div>
                        <div class="col text-center">
                          <span class="align-middle">Total</span>
                        </div>
                        <div class="col"></div>
                        <div class="col"></div>
                    </header>
                    <form [formGroup]="incentiveRecurringEntryForm" (ngSubmit)="onRecurringSubmit(incentiveRecurringEntryForm)">
                        <div formArrayName="entryRowsRecurring">
                            <div class="row-entry-padding" *ngFor="let entryRow of incentiveRecurringEntryForm.controls.entryRowsRecurring['controls']; let i=index" [formGroupName]="i">
                                <div class="row">
                                    <div class="col">
                                      <div class="dropdown">
                                          <select 
                                            formControlName="ItemID" 
                                            class="form-control" 
                                            (change)="getItemName($event,i)"
                                            name="something_{{i}}"
                                          >
                                              <option *ngFor="let item of listRecurringItems" value="{{item.item_id}}" [ngValue]="item.item_id" >{{ item.itemCode }}</option>
                                          </select>
                                      </div>
                                    </div>
                                    <div class="col">
                                      <input 
                                        type="text"
                                        class="form-control" 
                                        formControlName="Description"
                                        name="something_{{i}}"
                                      >
                                    </div>
                                    <div class="col">
                                      <div class="dropdown">
                                          <select formControlName="BillCycle" class="form-control">
                                              <option value="m">Monthly</option>
                                              <option value="q">Quarterly</option>
                                              <option value="s">Semi-Annual</option>
                                              <option value="a">Annual</option>
                                          </select>
                                      </div>
                                    </div>
                                    <div class="col">
                                      <kendo-numerictextbox
                                        format="c2"
                                        placeholder="$0.00"
                                        formControlName="RMR"
                                        [spinners]="false"
                                        [style.height]="'calc(1.5em + 1.3rem)'"
                                        [style.width]="'80%'"
                                      ></kendo-numerictextbox>
                                    </div>
                                    <div class="col">
                                      <kendo-numerictextbox
                                        format="c2"
                                        placeholder="$0.00"
                                        formControlName="PassThrough"
                                        [spinners]="false"
                                        [style.height]="'calc(1.5em + 1.3rem)'"
                                        [style.width]="'80%'"
                                      ></kendo-numerictextbox>
                                    </div>
                                    <div class="col">
                                      <input 
                                        type="date"
                                        class="form-control"
                                        formControlName="BillingStartDate"
                                      >
                                    </div>
                                    <div class="col">
                                      <input
                                        class="center-block"
                                        type="checkbox"
                                        formControlName="Add2Item"
                                        (change)="checkboxChanged($event)"
                                        >
                                    </div>
                                    <div class="col text-center">
                                      <div class="dropdown">
                                          <select 
                                            formControlName="Multiple"  
                                            class="form-control"
                                            >
                                              <option
                                                  *ngFor="let m of listMultiples" 
                                                  value="{{m.multiple}}" 
                                                  [ngValue]="m.multiple"
                                              >{{ m.multiple }}</option>
                                          </select>
                                      </div>
                                    </div>
                                    <div class="col">
                                      <input 
                                        type="text"
                                        class="form-control"
                                        formControlName="Total"
                                        placeholder="$0.00"
                                        mask="separator.2" 
                                        thousandSeparator=","
                                        prefix="$"
                                        
                                        [attr.disabled]="true"
                                      >
                                    </div>
                                    <div class="col">
                                        <button class="btn btn-add" type="button" (click)="addNewItem()">
                                            <i class="fas fa-plus pr-1"></i>Add
                                        </button>
                                    </div>
                                    <div class="col">
                                        <button class="btn btn-add" type="button" (click)="removeNewItem(i)">
                                            <i class="fas fa-minus pr-1"></i>Remove
                                        </button>
                                    </div>
                                  </div>
                            </div>
                        </div>
                        <div class="col">
                            <input type="submit" value="Submit" class="btn btn-submit">
                        </div>
                        <p>Total is: ${{ totalSumRecurring }}</p>
                    </form>
                </section>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #equipmat let-modal>
    <div class="modal-header">
        <!-- <h4 class="modal-title">Title</h4> -->
        <button class="close" aria-label="close" (click)="modal.dismiss('Cross click')">
            <span aria-label="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card-body">
            <div class="row ml-0">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-6 pl-0">
                            <h1 class="incentive-header">Incentive Entry
                            </h1>
                        </div>
                        <div class="col-md-6">
                            <span class="mr-5 font-weight-bold">Invoice #:  <span class="text-danger">{{ invoiceNumber }}</span>
                            </span>
                            <span class="ml-5 font-weight-bold">Customer Name: <span class="text-danger">{{ customer }}</span></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 offset-md-6">
                            <span class="font-weight-bold">Customer Site Information: <span class="text-danger">{{ customerSiteName }}</span></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 offset-md-6">
                            <span class="font-weight-bold">Customer System Information: <span class="text-danger">{{ systemName }}</span></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 pl-0">
                            <h3 class="incentive-header">Equipment and Materials Entry</h3>
                        </div>
                    </div>
                </div>
            </div>
    
            <section>
                <header class="equipmat-header-bg">
                    <div class="col">
                        <span class="align-middle">
                            Item
                        </span>
                    </div>
                    <div class="col">
                        <span class="align-middle">
                            Description
                        </span>
                    </div>
                    <div class="col">
                        <span class="align-middle">
                            Quantity
                        </span>
                    </div>
                    <div class="col">
                        <span class="align-middle">
                            Cost
                        </span>
                    </div>
                    <div class="col">
                        <span class="align-middle">
                            Total
                        </span>
                    </div>
                    <div class="col"></div>
                    <div class="col"></div>
                </header>
                <form 
                *ngIf="incentiveEquipMatEntryForm"
                [formGroup]="incentiveEquipMatEntryForm" 
                (ngSubmit)="onEquipMatSubmit(incentiveEquipMatEntryForm)">
                    <div formArrayName="entryRowsEquipMat">
                        <div class="row-entry-padding" *ngFor="let entryRow of incentiveEquipMatEntryForm.controls.entryRowsEquipMat['controls']; let i=index" [formGroupName]="i">
                            <div class="row">
                                <div class="col">
                                    <div class="dropdown">
                                        <select 
                                            formControlName="ItemID" class="form-control" 
                                            (change)="getEquipMatItemName($event,i)"
                                            name="something_{{i}}"
                                        >
                                            <option *ngFor="let item of listMatItems" value="{{item.item_id}}" [ngValue]="item.item_id">{{ item.itemCode }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col">
                                    <input 
                                        type="text" 
                                        class="form-control"
                                        formControlName="Description" 
                                        name="something_{{i}}"
                                    >
                                </div>
                                <div class="col">
                                    <input 
                                        type="number" 
                                        formControlName="Quantity"
                                        class="form-control"
                                        min="0"
                                    >
                                </div>
                                <div class="col">
                                    <kendo-numerictextbox
                                        format="c2"
                                        placeholder="$0.00"
                                        formControlName="Cost"
                                        [spinners]="false"
                                        [style.height]="'calc(1.5em + 1.3rem)'"
                                        [style.width]="'80%'"
                                    ></kendo-numerictextbox>
                                </div>
                                <div class="col">
                                    <kendo-numerictextbox
                                        format="c2"
                                        placeholder="$0.00"
                                        formControlName="Total"
                                        [spinners]="false"
                                        [style.height]="'calc(1.5em + 1.3rem)'"
                                        [style.width]="'80%'"
                                        [attr.disabled]="true"
                                    ></kendo-numerictextbox>
                                    <!-- <input 
                                        type="text"
                                        class="form-control"
                                        formControlName="Total"
                                        placeholder="$0.00"
                                        mask="separator.2" 
                                        thousandSeparator=","
                                        prefix="$"
                                        
                                        [attr.disabled]="true"
                                    > -->
                                </div>
                                <div class="col">
                                    <button class="btn btn-add" type="button"(click)="addNewEquipMatItem()">
                                        <i class="fas fa-plus pr-1"></i>Add
                                    </button>
                                </div>
                                
                                <div class="col">
                                    <button class="btn btn-add" type="button" (click)="removeNewEquipMatItem(i)">
                                        <i class="fas fa-minus pr-1"></i>Remove
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <input type="submit" value="Submit" class="btn btn-submit">
                    </div>
                    <p>Total is: ${{ totalSumEquipMat }}</p>
                </form>
            </section>
        </div>
    </div>
</ng-template>

<ng-template #laborcharges let-modal>
    <div class="modal-header">
        <!-- <h4 class="modal-title">Title</h4> -->
        <button class="close" aria-label="close" (click)="modal.dismiss('Cross click')">
            <span aria-label="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card-body">
            <div class="row ml-0">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-6 pl-0">
                            <h1 class="incentive-header">Incentive Entry
                            </h1>
                        </div>
                        <div class="col-md-6">
                            <span class="mr-5 font-weight-bold">Invoice #:  <span class="text-danger">{{ invoiceNumber }}</span>
                            </span>
                            <span class="ml-5 font-weight-bold">Customer Name: <span class="text-danger">{{ customer }}</span></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 offset-md-6">
                            <span class="font-weight-bold">Customer Site Information: <span class="text-danger">{{ customerSiteName }}</span></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 offset-md-6">
                            <span class="font-weight-bold">Customer System Information: <span class="text-danger">{{ systemName }}</span></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 pl-0">
                            <h3 class="incentive-header">Labor Entry</h3>
                        </div>
                    </div>
                </div>
            </div>
    
            <section>
                <header class="equipmat-header-bg">
                    <div class="col">
                        <span class="align-middle">
                            Item
                        </span>
                    </div>
                    <div class="col">
                        <span class="align-middle">
                            Description
                        </span>
                    </div>
                    <div class="col">
                        <span class="align-middle">
                            Hours
                        </span>
                    </div>
                    <div class="col">
                        <span class="align-middle">
                           Cost per Cost
                        </span>
                    </div>
                    <div class="col">
                        <span class="align-middle">
                            Total
                        </span>
                    </div>
                    <div class="col"></div>
                    <div class="col"></div>
                </header>
                <form [formGroup]="incentiveLaborChargesEntryForm" (ngSubmit)="onLaborChargesSubmit(incentiveLaborChargesEntryForm)">
                    <div formArrayName="entryRowsLaborCharges">
                        <div class="row-entry-padding" *ngFor="let entryRow of incentiveLaborChargesEntryForm.controls.entryRowsLaborCharges['controls']; let i=index;" [formGroupName]="i">
                            <div class="row">
                                <div class="col">
                                    <div class="dropdown">
                                        <select 
                                            formControlName="ItemID" class="form-control" 
                                            (change)="getLaborChargesItemName($event,i)"
                                            name="something_{{i}}"
                                        >
                                            <option *ngFor="let item of listLaborItems" value="{{item.item_id}}" [ngValue]="item.item_id">{{ item.itemCode }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col">
                                    <input 
                                        type="text" 
                                        class="form-control"
                                        formControlName="Description"
                                        name="something_{{i}}"
                                    >
                                </div>
                                <div class="col">
                                    <input 
                                        type="text" 
                                        formControlName="Quantity"
                                        class="form-control"
                                        
                                    >
                                </div>
                                <div class="col">
                                    <!-- <input 
                                        type="text"
                                        class="form-control"
                                        formControlName="CostPerHour"
                                        placeholder="$0.00"
                                        mask="separator.2" 
                                        thousandSeparator=","
                                        prefix="$"
                                        (change)="calculateCostPerHour($event,i)"
                                    > -->
                                    <kendo-numerictextbox
                                        format="c2"
                                        placeholder="$0.00"
                                        formControlName="Cost"
                                        [spinners]="false"
                                        [style.height]="'calc(1.5em + 1.3rem)'"
                                        [style.width]="'80%'"
                                    ></kendo-numerictextbox>
                                </div>
                                <div class="col">
                                    <input 
                                        type="text"
                                        class="form-control"
                                        formControlName="Total" 
                                        [placeholder]="placeholder"
                                        prefix="$"
                                        
                                        [attr.disabled]="true"
                                    >
                                </div>
                                <div class="col">
                                    <button class="btn btn-add" type="button" (click)="addNewLaborChargesItem()">
                                        <i class="fas fa-plus pr-1"></i>Add
                                    </button>
                                </div>
                                <div class="col">
                                    <!-- <button class="btn btn-submit" (click)="onSubmit(incentiveLaborChargesEntryForm)">
                                        <i class="fas fa-upload pr-1"></i>Submit
                                    </button> -->
                                    <button class="btn btn-add" type="button" (click)="removeNewLaborChargesItem(i)">
                                        <i class="fas fa-minus pr-1"></i>Remove
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <input type="submit" value="Submit" class="btn btn-submit">
                    </div>
                    <p>Total is: ${{ totalSumLaborCharges }}</p>
                </form>
            </section>
        </div>
    </div>
</ng-template>